@model IEnumerable<Weapsy.Reporting.Apps.ModuleTypeControlPanelModel>

@if (User.IsInRole("Administrator"))
{
    @await Html.PartialAsync("_AdminLoading")

    <link rel="stylesheet" href="~/css/control-panel.css" />

    <div id="control-panel" class="clearfix">
        <div class="container">
            <p class="help">Drag and drop modules into page zones</p>
            <ul class="list-group">
                @foreach (var moduleType in Model)
                {
                    <li id="@moduleType.Id" class="list-group-item moduleType" data-module-type-id="@moduleType.Id" data-module-type-title="@moduleType.Title">
                        <span class="glyphicon glyphicon-option-vertical handle" aria-hidden="true"></span>
                        <span>@moduleType.Title</span>
                    </li>
                }
            </ul>            
            @*<a href="@Url.Action("Index", "Home", new {area = "Admin"})" title="Admin">Admin</a>*@
        </div>
    </div>

    @*<div id="moduleTypes" class="panel panel-default moduleTypes" style="display: none;">
        <div class="panel-heading">
            <span class="glyphicon glyphicon-option-vertical handle" aria-hidden="true"></span>
            <span>Modules</span>
            <a id="restorePosition" href="#" title="Restore Position">
                <span class="glyphicon glyphicon-repeat pull-right" aria-hidden="true"></span> 
            </a>                 
        </div>
        <div class="panel-body">
            <p>Drag and drop modules into page zones</p>
            <ul class="list-group">
                @foreach (var moduleType in Model)
                {
                    <li id="@moduleType.Id" class="list-group-item moduleType" data-module-type-id="@moduleType.Id" data-module-type-title="@moduleType.Title">
                        <span class="glyphicon glyphicon-option-vertical handle" aria-hidden="true"></span>
                        <span>@moduleType.Title</span>
                    </li>
                }
            </ul>
        </div>
    </div>*@
}

@*<div>
    <ul class="nav nav-tabs">
        <li class="active">
            <a href="#Modules" data-toggle="tab">Modules</a>
        </li>
    </ul>
    <div class="tab-content">
        <div id="Modules" class="tab-pane active">
            @foreach (var moduleType in Model)
            {
                <div class="panel panel-default text-center moduleType" data-module-type-id="@moduleType.Id" data-module-type-title="@moduleType.Title">
                    <div class="panel-body">@moduleType.Title</div>
                </div>
            }
        </div>
    </div>
</div>*@

<div class="modal modal-admin fade" id="modal-admin" tabindex="-1" role="dialog" aria-labelledby="modal-title" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
                <h4 class="modal-title" id="modal-title"></h4>
            </div>
            <div class="modal-body" id="modal-body">
                Loading...
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
            </div>
        </div>
    </div>
</div>

<div class="modal fade" id="confirm-delete-module" tabindex="-1" role="dialog" aria-labelledby="deleteModal" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
                <h4 class="modal-title" id="deleteModal">Confirm Delete</h4>
            </div>
            <div class="modal-body">
                Are you sure you want to delete this module?
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-default" data-dismiss="modal">Cancel</button>
                <a id="confirmDeleteModule" class="btn btn-danger btn-ok" data-dismiss="modal">Delete</a>
            </div>
        </div>
    </div>
</div>